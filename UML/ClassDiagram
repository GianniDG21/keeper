@startuml

abstract class Client {
  +ID_Client : int <<PK>>
  +Phone : varchar(15)
  +Email: varchar(100)
}

class PrivateClient {
  +TIN : varchar(16) <<UNIQUE>>
  +FirstName : varchar(50)
  +LastName : varchar(50)
  +Phone : varchar(20)
  +Profession : varchar(30)
}

class BusinessClient {
  +VAT_Number : varchar(25) <<UNIQUE>>
  +CompanyName : varchar(150)
}

class Employeers {
  +ID_Employeer : int <<PK>>
  +TIN : varchar(16) <<UNIQUE>>
  +FirstName : varchar(50)
  +LastName : varchar(50)
  +Phone : varchar(20)
  +Role : RoleEnum
}

class RoleEnum {
Assistant
Seller
Manager
}

class Dealership {
  +ID_Dealership : int <<PK>>
  +PostalCode : int(5)
  +City : varchar(30)
  +Address : varchar(50)
  +Phone : varchar(20)
}

abstract class Employment {
  +ID_Employment : int <<PK>>
  +ID_Employeer : int <<FK>>
  +ID_Dealership : int <<FK>>
}

class Employed {
  +StartingDate : date
}

class Fired {
  +EndingDate : date
}

abstract class CarPark {
  +VIM : int <<PK>>
  +Brand : varchar(15)
  +Model : varchar(15)
  +Year : int(4)
  +Dealership : int <<FK>>
}

class UsedCar {
  +KM : int(6)
  +LastOil : date
  +KnownIncidents : text
  +Notes : text
}



Employeers <|-- RoleEnum
CarPark <|-- UsedCar
Client <|-- PrivateClient
Client <|-- BusinessClient
Employment <|-- Fired
Employment <|-- Employed
Employeers "1" -- "n" Employment
Dealership "1" -- "n" Employment
Dealership "1" -- "n" CarPark

@enduml
